header:
  version: 14
  includes:
    - kas/include/base.yml
    - kas/include/tegra.yml
    - kas/include/swupdate.yml
    - kas/include/ros.yml
    - kas/include/qualgo.yml

distro: tegrademo
machine: jetson-orin-nano-devkit-nvme
target:
  - demo-image-base

defaults:
  repos:
    branch: scarthgap

local_conf_header:
  tegra: |
    IMAGE_INSTALL:append = " swupdate"
    USE_REDUNDANT_FLASH_LAYOUT = "1"
    IMAGE_FSTYPES:append = " tar.gz"
    SWUPDATE_CORE_IMAGE_NAME ?= "demo-image-base"
    INHERIT:remove = "tegra-support-sanity distro_layer_buildinfo"
    EXTRA_IMAGE_FEATURES ?= "allow-empty-password empty-root-password allow-root-login"
    # INHERIT += "rm_work"
    PARALLEL_MAKE = " -j 4"
    BB_NUMBER_THREADS = " 4"

    # QUALGO_FEATURES = " qualgo-boot-pxe"
