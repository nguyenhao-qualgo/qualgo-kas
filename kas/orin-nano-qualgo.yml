header:
  version: 14
  includes:
    - kas/include/base.yml
    - kas/include/tegra.yml
    - kas/include/swupdate.yml
    - kas/include/ros.yml
    - kas/include/qualgo.yml

distro: tegrademo
machine: jetson-orin-nano-devkit-nvme
target:
  - swupdate-image-tegra

defaults:
  repos:
    branch: scarthgap

local_conf_header:
  tegra: |
    IMAGE_INSTALL:append = " swupdate"
    USE_REDUNDANT_FLASH_LAYOUT = "1"
    IMAGE_FSTYPES:append = " tar.gz"
    SWUPDATE_CORE_IMAGE_NAME ?= "demo-image-base"
    INHERIT:remove = "tegra-support-sanity distro_layer_buildinfo"
    EXTRA_IMAGE_FEATURES ?= "allow-empty-password empty-root-password allow-root-login"
    # INHERIT += "rm_work"
    PARALLEL_MAKE = " -j 4"
    BB_NUMBER_THREADS = " 4"

    # PACKAGE_CLASSES = "package_rpm"
    # PACKAGE_FEED_URIS = "http://:8000"
    # PACKAGE_FEED_BASE_PATHS = " rpm"
    # PACKAGE_FEED_ARCHS = " jetson_orin_nano_devkit_nvme armv8a armv8a_tegra armv8a_tegra234"
    # EXTRA_IMAGE_FEATURES += "package-management"